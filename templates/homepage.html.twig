{% extends 'base.html.twig' %}

{% block body %}
    <h1>Seznam astronautů</h1>
    {{ include('showFormsErrors.html.twig', {form: editForm}) }}
    {{ include('showFormsErrors.html.twig', {form: deleteForm}) }}
    {% if astromenData %}
        <table class="normTab">
            <tr>
                <th>Jméno</th><th>Příjmení</th><th>Datum narození</th><th>Dovednost</th><th></th>
            </tr>
            {% for astroRow in astromenData %}
                <tr class="astroRow" data-id="{{ astroRow.id }}">
                    <td>{{ astroRow.f_name }}</td>
                    <td>{{ astroRow.l_name }}</td>
                    <td>{{ astroRow.DOB }}</td>
                    <td>{{ astroRow.skill }}</td>
                    <td class="button_cell">
                        <button class="astro_edit" data-id="{{ astroRow.id }}" type="button">upravit</button>
                        <button class="astro_delete" data-id="{{ astroRow.id }}" type="button">smazat</button>
                    </td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>Žádní astronauti se zatím nevyvinuli.</p>
    {% endif %}
    <br />
    
    {% form_theme editForm 'forms/formTabThemeOneRow.html.twig' %}
    {% form_theme deleteForm 'forms/formTabThemeOneRow.html.twig' %}
    
    {% if add_form_validation_failed == false %}
        <button class="button" id="show_add_astroman_form">Přidat nového astronauta</button>
        {% set  new_astroman_form_hidden = 'hidden' %}
    {% else %}
        {% set new_astroman_form_hidden = '' %}
    {% endif %}
    
    <div class="{{ new_astroman_form_hidden }}" id="new_astroman_form">
        {{ form(addForm) }}
    </div>
    <br />
    {{ form(editForm) }}
    <br />
    {{ form(deleteForm) }}

    {% block javasripts %}
        <script src="{{ webroot }}/js/homepage.js"></script>
    {% endblock %}
        
{% endblock %}
